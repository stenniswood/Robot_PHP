<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }

		</style>
	</head>
	<body>

		<script src="js/three.js"></script>
		
		<script>
			// Our Javascript will go here.
			var scene = new THREE.Scene();
			var camera = new //THREE.PerspectiveCamera( 120, window.innerWidth / window.innerHeight, 0.1, 5000 );
							THREE.OrthographicCamera(
								  window.innerWidth / -2,
								  window.innerWidth / 2,
								  window.innerHeight / 2,
								  window.innerHeight / -2, -500, 1000);

		    camera.up.set(1, 0, 0); 
			camera.zoom = 10;
		    camera.position.set(10, 0, 20);
		    camera.lookAt(scene.position);
		    camera.updateProjectionMatrix();
			scene.add(camera);

			  const size = 20
			  const step = 20
			  const gridHelper = new THREE.GridHelper(size, step);
			  gridHelper.rotation.x = 0;	gridHelper.rotation.y = 0;	gridHelper.rotation.z = 90;
			  scene.add(gridHelper);

			  const axesHelper = new THREE.AxesHelper(5);
			  scene.add(axesHelper);

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );			
			
			
				var dirLight = new THREE.DirectionalLight( 0xffffff, 0.125 );
				dirLight.position.set( 0, 0, 40 ).normalize();
				scene.add( dirLight );
				
				var pointLight = new THREE.PointLight( 0xffffff, 1.5 );
				pointLight.position.set( 90, 100, 0 );
				scene.add( pointLight );

				var pointLight2 = new THREE.PointLight( 0xffffff, 1.5 );
				pointLight2.position.set( 90, -100, 0 );
				scene.add( pointLight2 );

				var pointLight3 = new THREE.PointLight( 0xffffff, 1.5 );
				pointLight3.position.set( 90, -100, 90 );
				scene.add( pointLight3 );

</script>
<script src="arm_construction.js"></script>
<script src="arm_servos.js"></script>						
<script>
		
			function animate() {
				requestAnimationFrame( animate );
				set_servo_angles( BaseDeg, ShoulderDeg, ElbowDeg );				
				renderer.render( scene, camera );
			}

			animate();						
						
			document.addEventListener("keydown", onDocumentKeyDown, false);
			function onDocumentKeyDown(event) {
				var key = event.key;
				if (key == 'b') {
					BaseDeg += 2.0;
				} else if (key == 'B') {
					BaseDeg -= 2.0;
				} else if (key == 's') {
					ShoulderDeg += 2.0;
				} else if (key == 'S') {
					ShoulderDeg -= 2.0;
				} else if (key == 'e') {
					ElbowDeg += 2.0;
				} else if (key == 'E') {
					ElbowDeg -= 2.0;
				} else if (key == 'w') {
					WristDeg += 2.0;
				} else if (key == 'W') {
					WristDeg -= 2.0;
				} else if (key == ' ') {
					BaseDeg 	= 0.0;
					BaseDeg2 	= 0.0;
					ShoulderDeg = 0.0;
					ElbowDeg = 0.0;
				}
			};			
				
		</script>
	</body>
</html>
